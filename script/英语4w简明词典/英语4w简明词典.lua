--[[
--æ— éšœç¢ç‰ˆä¸“ç”¨è„šæœ¬
--ç”¨é€”ï¼šè‹±è¯­4wç®€æ˜è¯å…¸ï¼Œå¯æŸ¥é€‰ä¸­å€™é€‰è‹±è¯­è¯æ±‡,è‹¥å±å¹•æ— å€™é€‰,å¯æŸ¥ç¼–è¾‘æ¡†é€‰ä¸­æ–‡æœ¬,é‡Šä¹‰æ˜¾ç¤ºåœ¨æ‚¬æµ®çª—å£
--ç‰ˆæœ¬å·: 1.0
--åˆ¶ä½œæ—¥æœŸ
â–‚â–‚â–‚â–‚â–‚â–‚â–‚â–‚
æ—¥æœŸ: 2020å¹´03æœˆ08æ—¥ğŸ—“ï¸
å†œå†: é¼ (åºšå­)å¹´äºŒæœˆåäº”
æ—¶é—´: 11:18:47ğŸ•š
æ˜ŸæœŸ: å‘¨æ—¥
--åˆ¶ä½œè€…: é£ä¹‹æ¼«èˆ
--é¦–å‘qqç¾¤: åŒæ–‡å ‚(480159874)
--é‚®ç®±: bj19490007@163.com(ä¸ä¸€å®šåŠæ—¶çœ‹åˆ°)
--å¦‚ä½•å®‰è£…å¹¶ä½¿ç”¨: è¯·å‚è€ƒç¾¤æ–‡ä»¶ï¼Œè·¯å¾„[åŒæ–‡æ— éšœç¢LUAè„šæœ¬]->åŒæ–‡æ— éšœç¢ç‰ˆluaè„šæœ¬ä½¿ç”¨è¯´æ˜.pdf

--é…ç½®è¯´æ˜
ç¬¬â‘ æ­¥ å°† è‹±è¯­4wç®€æ˜è¯å…¸/è‹±è¯­4wç®€æ˜è¯å…¸.lua æ–‡ä»¶æ”¾ç½® rime/script æ–‡ä»¶å¤¹å†…

ç¬¬â‘¡æ­¥ å‘ä¸»é¢˜æ–¹æ¡ˆä¸­åŠ å…¥æŒ‰é”®
ä»¥ XXX.trime.yamlä¸»é¢˜æ–¹æ¡ˆä¸ºä¾‹
æ‰¾åˆ°ä»¥ä¸‹èŠ‚ç‚¹preset_keysï¼ŒåŠ å…¥ä»¥ä¸‹æŒ‰é”®

preset_keys:
  lua_dic_4w_en: {label: ç¿»è¯‘, send: function, command: 'è‹±è¯­4wç®€æ˜è¯å…¸/è‹±è¯­4wç®€æ˜è¯å…¸.lua', option: "%1$s"} #è‹±è¯­å•è¯Â»ä¸­æ–‡é‡Šä¹‰


å‘è¯¥ä¸»é¢˜æ–¹æ¡ˆä»»æ„æŒ‰é”®åŠ å…¥ä¸Šè¿°æŒ‰é”®æ—¢å¯
]]

require "import"
import "android.widget.*"
import "android.view.*"
import "java.io.*"
import "android.content.Context" 


local å€™é€‰ = (...)
local ç¿»è¯‘ç»„ ={}
local æ–‡ä»¶=tostring(service.getLuaExtDir("script/è‹±è¯­4wç®€æ˜è¯å…¸/dic_4w_en.txt"))
local å†…å®¹å­˜åœ¨=false
for è¡Œå†…å®¹ in io.lines(æ–‡ä»¶) do
 if string.lower(string.sub(è¡Œå†…å®¹,1,#å€™é€‰+1))==string.lower(å€™é€‰.."\t") then
 ç¿»è¯‘ç»„[1]=å€™é€‰
 ç¿»è¯‘ç»„[2]=string.sub(è¡Œå†…å®¹,#å€™é€‰+1,#è¡Œå†…å®¹)
 å†…å®¹å­˜åœ¨=true
 end
end

if å†…å®¹å­˜åœ¨ then
 task(300,function()
  service.addCompositions(ç¿»è¯‘ç»„)
  end)
else
 Toast.makeText(service, å€™é€‰.."æ— ç›¸å…³å†…å®¹",Toast.LENGTH_SHORT).show() --å¼¹å‡ºä¿¡æ¯
end


